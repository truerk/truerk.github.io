!function(e){function t(t){for(var n,a,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,c=1;c<o.length;c++){var s=o[c];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={0:0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([5,1]),o()}([,,,,,function(e,t,o){o(6),e.exports=o(13)},function(e,t,o){"use strict";o.r(t);o(7)},function(e,t,o){var n=o(8);"string"==typeof n&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};o(9)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){},,,,,function(e,t,o){"use strict";o.r(t);var n=o(2),r=o.n(n),i=(document.querySelectorAll("[am-burger-button]").forEach((function(e){e.addEventListener("click",(function(){e.hasAttribute("active")?e.removeAttribute("active"):e.setAttribute("active","")}))})),o(1));var a=o(3),c=o.n(a);var s,l,u,d,p,f,m,b=o(0),v=o.n(b),g=o(4);r.a.polyfill(),document.querySelectorAll("[menu-target]").forEach((function(e){var t=e.getAttribute("menu-target"),o=document.getElementById(t)||!1;o&&o.getAttribute("id")==t&&e.addEventListener("click",(function(e){e.preventDefault,o.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}))})),s=c()(document.querySelectorAll("img[load-src]")),l={root:document.querySelector(".center"),rootMargin:"0px 0px 200px 0px"},u=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(u.unobserve(e.target),e.target.src=e.target.dataset.src,e.target.onload=function(){return e.target.classList.add("loaded")})}))}),l),s.forEach((function(e){u.observe(e)})),new i.a(document.querySelector(".trust .swiper-container"),{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!0,simulateTouch:!0,navigation:{nextEl:document.querySelector(".trust .swiper-button-next"),prevEl:document.querySelector(".trust .swiper-button-prev")},breakpoints:{1:{slidesPerView:2,spaceBetween:20},690:{spaceBetween:40,slidesPerView:4}}}),new i.a(document.querySelector(".works .swiper-container"),{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!0,simulateTouch:!0,autoplay:{delay:3e3},speed:800,navigation:{nextEl:document.querySelector(".works .swiper-button-next"),prevEl:document.querySelector(".works .swiper-button-prev")},breakpoints:{1:{slidesPerView:2,spaceBetween:20},480:{spaceBetween:40,slidesPerView:4}}}),d=document.querySelector('[am-burger-button="menu"]'),p=document.querySelector(".menu__mobile"),f=document.querySelectorAll("[menu-target]"),m=document.querySelector("body"),d.addEventListener("click",(function(){p.classList.contains("active")?(p.classList.remove("active"),m.removeAttribute("style")):(m.style.overflow="hidden",p.classList.add("active"))})),f.forEach((function(e){e.addEventListener("click",(function(){p.classList.remove("active"),d.removeAttribute("active"),m.removeAttribute("style")}))})),function(){document.querySelector("#ymaps");var e=function(){g.a.load("https://api-maps.yandex.ru/2.1/?apikey=74f946ea-5b98-49f2-9582-78854bb86bdf&lang=ru_RU&bust=v10").then((function(e){var t,o=new e.control.ZoomControl({options:{position:{top:"auto",left:"5%",bottom:"50px",yandexMapAutoSwitch:!0}}}),n=[],r=new e.Map("ymaps",{center:[53.539484,49.265901],zoom:12,margin:10,controls:["fullscreenControl","geolocationControl",o]},{suppressMapOpenBlock:!0});t=new e.Clusterer({preset:"islands#redClusterIcons",disableClickZoom:!1,openBalloonOnClick:!1}),window.addEventListener("resize",(function(){r.container.fitToViewport(),r.behaviors.disable("multiTouch"),window.innerWidth,r.setCenter([53.539484,49.265901])})),window.innerWidth<720?(r.behaviors.disable("multiTouch"),r.setCenter([53.539484,49.265901])):r.setCenter([53.539484,49.265901]);n.push({coords:[53.539484,49.265901],cityName:"Тольятти",officeStreet:"ул. Дзержинского, д. 98, оф. 90 cежедневно с 8:00 до 17:00"}),function(o){var n=[];o.forEach((function(t,o){var i;n[o]=new e.GeoObject({geometry:{type:"Point",coordinates:t.coords},properties:{balloonContentHeader:t.cityName,balloonContentBody:"<p>".concat(t.officeStreet,"</p>")}},(i={preset:"islands#redCircleDotIcon",iconLayout:"default#image",iconImageHref:"/src/assets/icons/icon_place.svg",iconImageSize:[33,53],iconImageOffset:[-17,-55],draggable:!1},v()(i,"draggable",!1),v()(i,"hideIconOnBalloonOpen",!1),v()(i,"balloonOpenTimeout",300),v()(i,"balloonPane","outerBalloon"),v()(i,"zIndex",-1),i)),n[o].events.add("click",(function(e){n[o].geometry.getCoordinates(),n[o].options.get("projection").toGlobalPixels(r.getBounds()[1],r.getZoom()),n[o].options.get("projection").toGlobalPixels(n[o].geometry.getBounds()[1],r.getZoom());var t,i=n[o].options.get("projection").toGlobalPixels(n[o].geometry.getBounds()[1],r.getZoom());t=window.matchMedia("(max-width: 959px)").matches?[i[0],i[1]]:[i[0]+300,i[1]];var a=r.options.get("projection").fromGlobalPixels(t,r.getZoom());r.setCenter(a,r.getZoom(),{duration:300})}))})),t.add(n),r.geoObjects.add(t)}(n)})).catch((function(e){return console.log("Failed to load Yandex Maps",e)}))};e(),window.addEventListener("resize",(function(){e()}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvaW5kZXguc2Nzcz80OTBiIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL2J1cmdlckJ1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbWV0aG9kcy9zbW9vdGhfc2Nyb2xsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tZXRob2RzL2xhenlfbG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc2VjdGlvbi9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL2Nhcm91c2VsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9zZWN0aW9uL21hcC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsImNvbnRlbnQiLCJvcHRpb25zIiwibG9jYWxzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJpbWFnZXMiLCJpbnRlcmFjdFNldHRpbmdzIiwib2JzZXJ2ZXIiLCJtb2JpbGVNZW51X2J1dHRvbiIsIm1vYmlsZU1lbnUiLCJtZW51VGFyZ2V0cyIsImJvZHkiLCJzbW9vdGhzY3JvbGwiLCJwb2x5ZmlsbCIsIml0ZW0iLCJpdGVtVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJuZWVkZWRTZWN0b3IiLCJnZXRFbGVtZW50QnlJZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJpbmxpbmUiLCJiZWhhdmlvciIsInJvb3QiLCJxdWVyeVNlbGVjdG9yIiwicm9vdE1hcmdpbiIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiaW1hZ2VFbnRpdGVzIiwiaW1hZ2UiLCJpc0ludGVyc2VjdGluZyIsInVub2JzZXJ2ZSIsInRhcmdldCIsInNyYyIsImRhdGFzZXQiLCJvbmxvYWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJvYnNlcnZlIiwiU3dpcGVyIiwid3JhcHBlckNsYXNzIiwic2xpZGVDbGFzcyIsImRpcmVjdGlvbiIsImxvb3AiLCJzaW11bGF0ZVRvdWNoIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImJyZWFrcG9pbnRzIiwiMSIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCI2OTAiLCJhdXRvcGxheSIsImRlbGF5Iiwic3BlZWQiLCI0ODAiLCJjb250YWlucyIsInJlbW92ZSIsInN0eWxlIiwib3ZlcmZsb3ciLCJidWlsZE1hcCIsInltYXBzIiwibG9hZCIsInRoZW4iLCJtYXBzIiwibXlDbHVzdGVyZXIiLCJjdXN0b21ab29tQ29udHJvbCIsImNvbnRyb2wiLCJab29tQ29udHJvbCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImJvdHRvbSIsInlhbmRleE1hcEF1dG9Td2l0Y2giLCJwb2ludHMiLCJtYXAiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwibWFyZ2luIiwiY29udHJvbHMiLCJzdXBwcmVzc01hcE9wZW5CbG9jayIsIkNsdXN0ZXJlciIsInByZXNldCIsImRpc2FibGVDbGlja1pvb20iLCJvcGVuQmFsbG9vbk9uQ2xpY2siLCJjb250YWluZXIiLCJmaXRUb1ZpZXdwb3J0IiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsImlubmVyV2lkdGgiLCJzZXRDZW50ZXIiLCJjb29yZHMiLCJjaXR5TmFtZSIsIm9mZmljZVN0cmVldCIsIm15R2VvT2JqZWN0cyIsInBvaW50IiwiR2VvT2JqZWN0IiwiZ2VvbWV0cnkiLCJ0eXBlIiwiY29vcmRpbmF0ZXMiLCJwcm9wZXJ0aWVzIiwiYmFsbG9vbkNvbnRlbnRIZWFkZXIiLCJiYWxsb29uQ29udGVudEJvZHkiLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJpY29uSW1hZ2VPZmZzZXQiLCJkcmFnZ2FibGUiLCJldmVudHMiLCJnZXRDb29yZGluYXRlcyIsInRvR2xvYmFsUGl4ZWxzIiwiZ2V0Qm91bmRzIiwiZ2V0Wm9vbSIsInBpeGVsQ2VudGVyIiwiWFlnZW9PYmplY3RzIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJnZW9DZW50ZXIiLCJmcm9tR2xvYmFsUGl4ZWxzIiwiZHVyYXRpb24iLCJnZW9PYmplY3RzIiwic2V0R2VvT2JqZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiaW5pdE1hcCJdLCJtYXBwaW5n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UUFBUXJCLElBQUksY0FBYzJJLGVBQWVoQixFQUFhL0osR0FBR2tLLFNBQVNjLFlBQVksR0FBSXJDLEVBQUlzQyxXQVN2SEMsRUFOQzdILE9BQU8rSCxXQUFXLHNCQUFzQkMsUUFNM0IsQ0FDVkYsRUFBYSxHQUNiQSxFQUFhLElBUEgsQ0FDVkEsRUFBYSxHQUFLLElBQ2xCQSxFQUFhLElBU3JCLElBQU1HLEVBQVkzQyxFQUFJbEYsUUFBUXJCLElBQUksY0FBY21KLGlCQUFpQkwsRUFBYXZDLEVBQUlzQyxXQUVsRnRDLEVBQUlnQixVQUFVMkIsRUFBVzNDLEVBQUlzQyxVQUFXLENBQ3BDTyxTQUFVLFlBS3RCdkQsRUFBWTdCLElBQUkyRCxHQUNoQnBCLEVBQUk4QyxXQUFXckYsSUFBSTZCLEdBTXZCeUQsQ0FBYWhELE1BdEhyQixPQXdIVyxTQUFBaUQsR0FBSyxPQUFJQyxRQUFRQyxJQUFJLDZCQUE4QkYsT0FHbEUvRCxJQUVBdkUsT0FBT1UsaUJBQWlCLFVBQVUsV0FDOUI2RCxPRnJIUmtFIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs1LDFdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiaW1wb3J0ICcuL2luZGV4LnNjc3MnIiwidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNC0yIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNC0zIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS00LTQhLi9pbmRleC5zY3NzXCIpO1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBidXJnZXJCdXR0b24oKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbYW0tYnVyZ2VyLWJ1dHRvbl0nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYnV0dG9uLmhhc0F0dHJpYnV0ZSgnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYWN0aXZlJywgJycpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0pKCk7IiwiZXhwb3J0IGNvbnN0IHNtb290aF9zY3JvbGwgPSAoKSA9PiB7XHJcbiAgICBsZXQgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW21lbnUtdGFyZ2V0XScpO1xyXG5cclxuICAgIG1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGxldCBpdGVtVmFsdWUgPSBpdGVtLmdldEF0dHJpYnV0ZSgnbWVudS10YXJnZXQnKTtcclxuICAgICAgICBjb25zdCBuZWVkZWRTZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpdGVtVmFsdWUpIHx8IGZhbHNlO1xyXG4gICAgICAgIGlmIChuZWVkZWRTZWN0b3IpIHtcclxuICAgICAgICAgICAgY29uc3QgbmVlZGVkSWQgPSBuZWVkZWRTZWN0b3IuZ2V0QXR0cmlidXRlKCdpZCcpO1xyXG4gICAgICAgICAgICBpZiAobmVlZGVkSWQgPT0gaXRlbVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZWVkZWRTZWN0b3Iuc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogXCJzdGFydFwiLCBpbmxpbmU6IFwibmVhcmVzdFwiLCBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59IiwiZXhwb3J0IGNvbnN0IGxhenlMb2FkID0gKCkgPT4ge1xyXG4gIGxldCBpbWFnZXMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nW2xvYWQtc3JjXScpXVxyXG5cclxuICBjb25zdCBpbnRlcmFjdFNldHRpbmdzID0ge1xyXG4gICAgcm9vdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlbnRlcicpLFxyXG4gICAgcm9vdE1hcmdpbjogJzBweCAwcHggMjAwcHggMHB4J1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25JbnRlcnNlY3Rpb24oaW1hZ2VFbnRpdGVzKSB7XHJcbiAgICBpbWFnZUVudGl0ZXMuZm9yRWFjaChpbWFnZSA9PiB7XHJcbiAgICAgIGlmIChpbWFnZS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShpbWFnZS50YXJnZXQpXHJcbiAgICAgICAgaW1hZ2UudGFyZ2V0LnNyYyA9IGltYWdlLnRhcmdldC5kYXRhc2V0LnNyY1xyXG4gICAgICAgIGltYWdlLnRhcmdldC5vbmxvYWQgPSAoKSA9PiBpbWFnZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnbG9hZGVkJylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihvbkludGVyc2VjdGlvbiwgaW50ZXJhY3RTZXR0aW5ncylcclxuXHJcbiAgaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4geyBvYnNlcnZlci5vYnNlcnZlKGltYWdlKSB9KVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdEhlYWRlcigpIHtcclxuICAgIGNvbnN0IG1vYmlsZU1lbnVfYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2FtLWJ1cmdlci1idXR0b249XCJtZW51XCJdJylcclxuICAgIGNvbnN0IG1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fbW9iaWxlJylcclxuICAgIGNvbnN0IG1lbnVUYXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW21lbnUtdGFyZ2V0XScpXHJcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcblxyXG4gICAgZnVuY3Rpb24gbW9iaWxlTWVudUhhbmRsZXIoKSB7XHJcbiAgICAgICAgbW9iaWxlTWVudV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtb2JpbGVNZW51LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcclxuICAgICAgICAgICAgICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbWVudVRhcmdldHMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIG1vYmlsZU1lbnVfYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBtb2JpbGVNZW51SGFuZGxlcigpXHJcbn0iLCJpbXBvcnQgc21vb3Roc2Nyb2xsIGZyb20gJ3Ntb290aHNjcm9sbC1wb2x5ZmlsbCc7XHJcbnNtb290aHNjcm9sbC5wb2x5ZmlsbCgpO1xyXG5cclxuaW1wb3J0IGJ1cmdlckJ1dHRvbiBmcm9tICcuL2NvbXBvbmVudHMvYnVyZ2VyQnV0dG9uJ1xyXG5pbXBvcnQgY2Fyb3VzZWwgZnJvbSAnLi9jb21wb25lbnRzL2Nhcm91c2VsJ1xyXG5pbXBvcnQge3Ntb290aF9zY3JvbGx9IGZyb20gJy4vbWV0aG9kcy9zbW9vdGhfc2Nyb2xsJ1xyXG5pbXBvcnQge2xhenlMb2FkfSBmcm9tICcuL21ldGhvZHMvbGF6eV9sb2FkJ1xyXG5cclxuaW1wb3J0IGluaXRIZWFkZXIgZnJvbSAnLi9zZWN0aW9uL2hlYWRlcidcclxuaW1wb3J0IGluaXRNYXAgZnJvbSAnLi9zZWN0aW9uL21hcCdcclxuXHJcbnNtb290aF9zY3JvbGwoKVxyXG5sYXp5TG9hZCgpXHJcbmNhcm91c2VsKClcclxuXHJcbmluaXRIZWFkZXIoKVxyXG5pbml0TWFwKClcclxuIiwiaW1wb3J0IFN3aXBlciBmcm9tICdzd2lwZXInXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYXJvdXNlbCgpIHtcclxuICAgIGNvbnN0IGNhcm91c2VsVHJ1c3QgPSBuZXcgU3dpcGVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cnVzdCAuc3dpcGVyLWNvbnRhaW5lcicpLCB7XHJcbiAgICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gICAgICAgIHdyYXBwZXJDbGFzczogJ3N3aXBlci13cmFwcGVyJyxcclxuICAgICAgICBzbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlJyxcclxuICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIHNpbXVsYXRlVG91Y2g6IHRydWUsXHJcbiAgICAgICAgLy8gYXV0b3BsYXk6IHtcclxuICAgICAgICAvLyAgICAgZGVsYXk6IDMwMDAsXHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICAvLyBzcGVlZDogODAwLFxyXG4gICAgICAgIC8vIE5hdmlnYXRpb24gYXJyb3dzXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICBuZXh0RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cnVzdCAuc3dpcGVyLWJ1dHRvbi1uZXh0JyksXHJcbiAgICAgICAgICAgIHByZXZFbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRydXN0IC5zd2lwZXItYnV0dG9uLXByZXYnKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDE6IHtcclxuICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDY5MDoge1xyXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBjYXJvdXNlbFdvcmtzPSBuZXcgU3dpcGVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53b3JrcyAuc3dpcGVyLWNvbnRhaW5lcicpLCB7XHJcbiAgICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gICAgICAgIHdyYXBwZXJDbGFzczogJ3N3aXBlci13cmFwcGVyJyxcclxuICAgICAgICBzbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlJyxcclxuICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIHNpbXVsYXRlVG91Y2g6IHRydWUsXHJcbiAgICAgICAgYXV0b3BsYXk6IHtcclxuICAgICAgICAgICAgZGVsYXk6IDMwMDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGVlZDogODAwLFxyXG4gICAgICAgIC8vIE5hdmlnYXRpb24gYXJyb3dzXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICBuZXh0RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53b3JrcyAuc3dpcGVyLWJ1dHRvbi1uZXh0JyksXHJcbiAgICAgICAgICAgIHByZXZFbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndvcmtzIC5zd2lwZXItYnV0dG9uLXByZXYnKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDE6IHtcclxuICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDQ4MDoge1xyXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSIsImltcG9ydCB5bWFwcyBmcm9tIFwieW1hcHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRNYXAoKSB7XHJcbiAgICBjb25zdCB5bWFwc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN5bWFwcycpXHJcblxyXG4gICAgY29uc3QgYnVpbGRNYXAgPSAoKSA9PiB7XHJcbiAgICAgICAgLy/QmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRj9C90LTQtdC60YEu0LrQsNGA0YJcclxuICAgICAgICB5bWFwc1xyXG4gICAgICAgICAgICAubG9hZChcImh0dHBzOi8vYXBpLW1hcHMueWFuZGV4LnJ1LzIuMS8/YXBpa2V5PTc0Zjk0NmVhLTViOTgtNDlmMi05NTgyLTc4ODU0YmI4NmJkZiZsYW5nPXJ1X1JVJmJ1c3Q9djEwXCIpXHJcbiAgICAgICAgICAgIC50aGVuKG1hcHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy/QndCw0YHRgtGA0L7QudC60Lgg0LjQvdGC0LXRgNGE0LXQudGB0LBcclxuICAgICAgICAgICAgICAgIGxldCBjdXN0b21ab29tQ29udHJvbCA9IG5ldyBtYXBzLmNvbnRyb2wuWm9vbUNvbnRyb2woe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICc1JScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnNTBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWFuZGV4TWFwQXV0b1N3aXRjaDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbXlHZW9PYmplY3RzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbXlDbHVzdGVyZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy/QodC+0LfQtNCw0LXQvCDQutCw0YDRgtGDXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSBuZXcgbWFwcy5NYXAoXCJ5bWFwc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBbNTMuNTM5NDg0LCA0OS4yNjU5MDFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHpvb206IDEyLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IFsnZnVsbHNjcmVlbkNvbnRyb2wnLCAnZ2VvbG9jYXRpb25Db250cm9sJywgY3VzdG9tWm9vbUNvbnRyb2xdXHJcbiAgICAgICAgICAgICAgICB9LCB7c3VwcHJlc3NNYXBPcGVuQmxvY2s6IHRydWV9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL9Ch0L7Qt9C00LDQtdC8INC60LvQsNGB0YLQtdGAXHJcbiAgICAgICAgICAgICAgICBteUNsdXN0ZXJlciA9IG5ldyBtYXBzLkNsdXN0ZXJlcihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldDogJ2lzbGFuZHMjcmVkQ2x1c3Rlckljb25zJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNsaWNrWm9vbTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5CYWxsb29uT25DbGljazogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL9Cd0LDRgdGC0YDQvtC50LrQuCDQv9C+0LLQtdC00LXQvdC40Y8g0LrQsNGA0YLRi1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5jb250YWluZXIuZml0VG9WaWV3cG9ydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5iZWhhdmlvcnMuZGlzYWJsZShcIm11bHRpVG91Y2hcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoWzUzLjUzOTQ4NCwgNDkuMjY1OTAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihbNTMuNTM5NDg0LCA0OS4yNjU5MDFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDcyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5iZWhhdmlvcnMuZGlzYWJsZShcIm11bHRpVG91Y2hcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihbNTMuNTM5NDg0LCA0OS4yNjU5MDFdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihbNTMuNTM5NDg0LCA0OS4yNjU5MDFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqINCU0L7QsdCw0LLQu9GP0LXQvCDQvNC10YLQutC4INC90LAg0LrQsNGA0YLRg1xyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRHZW9PYmplY3QocG9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG15R2VvT2JqZWN0cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMuZm9yRWFjaCgocG9pbnQsIGkpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBteUdlb09iamVjdHNbaV0gPSBuZXcgbWFwcy5HZW9PYmplY3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHBvaW50LmNvb3JkcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnRIZWFkZXI6IHBvaW50LmNpdHlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbGxvb25Db250ZW50Qm9keTogYDxwPiR7cG9pbnQub2ZmaWNlU3RyZWV0fTwvcD5gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXQ6IFwiaXNsYW5kcyNyZWRDaXJjbGVEb3RJY29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkxheW91dDogXCJkZWZhdWx0I2ltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogXCIvc3JjL2Fzc2V0cy9pY29ucy9pY29uX3BsYWNlLnN2Z1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFszMywgNTNdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0xNywgLTU1XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUljb25PbkJhbGxvb25PcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxsb29uT3BlblRpbWVvdXQ6IDMwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWxsb29uUGFuZTogJ291dGVyQmFsbG9vbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9iYWxsb29uUGFuZWxNYXhNYXBBcmVhOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL9Ce0LHRgNCw0LHQsNGC0YvQstCw0LXQvCDQvdCw0LbQsNGC0LjQtSDQvdCwINC80LXRgtC60YMsINGB0LrRgNC+0LvQuyDQuiDQvNC10YLQutC1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG15R2VvT2JqZWN0c1tpXS5ldmVudHMuYWRkKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBHZW9PYmplY3RDb29yZHMgPSBteUdlb09iamVjdHNbaV0uZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcF9sZWZ0ID0gbXlHZW9PYmplY3RzW2ldLm9wdGlvbnMuZ2V0KCdwcm9qZWN0aW9uJykudG9HbG9iYWxQaXhlbHMobWFwLmdldEJvdW5kcygpWzFdLCBtYXAuZ2V0Wm9vbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEdlb09iamVjdF9sZWZ0ID0gbXlHZW9PYmplY3RzW2ldLm9wdGlvbnMuZ2V0KCdwcm9qZWN0aW9uJykudG9HbG9iYWxQaXhlbHMobXlHZW9PYmplY3RzW2ldLmdlb21ldHJ5LmdldEJvdW5kcygpWzFdLCBtYXAuZ2V0Wm9vbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFhZZ2VvT2JqZWN0cyA9IG15R2VvT2JqZWN0c1tpXS5vcHRpb25zLmdldCgncHJvamVjdGlvbicpLnRvR2xvYmFsUGl4ZWxzKG15R2VvT2JqZWN0c1tpXS5nZW9tZXRyeS5nZXRCb3VuZHMoKVsxXSwgbWFwLmdldFpvb20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGl4ZWxDZW50ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDk1OXB4KVwiKS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxDZW50ZXIgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhZZ2VvT2JqZWN0c1swXSArIDMwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWFlnZW9PYmplY3RzWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxDZW50ZXIgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhZZ2VvT2JqZWN0c1swXSAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhZZ2VvT2JqZWN0c1sxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VvQ2VudGVyID0gbWFwLm9wdGlvbnMuZ2V0KCdwcm9qZWN0aW9uJykuZnJvbUdsb2JhbFBpeGVscyhwaXhlbENlbnRlciwgbWFwLmdldFpvb20oKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihnZW9DZW50ZXIsIG1hcC5nZXRab29tKCksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG15Q2x1c3RlcmVyLmFkZChteUdlb09iamVjdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZW9PYmplY3RzLmFkZChteUNsdXN0ZXJlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IHtjb29yZHM6IFs1My41Mzk0ODQsIDQ5LjI2NTkwMV0sIGNpdHlOYW1lOiAn0KLQvtC70YzRj9GC0YLQuCcsIG9mZmljZVN0cmVldDogJ9GD0LsuINCU0LfQtdGA0LbQuNC90YHQutC+0LPQviwg0LQuIDk4LCDQvtGELiA5MCBj0LXQttC10LTQvdC10LLQvdC+INGBIDg6MDAg0LTQviAxNzowMCd9O1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY29vcmRzKTtcclxuICAgICAgICAgICAgICAgIHNldEdlb09iamVjdChwb2ludHMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBZYW5kZXggTWFwc1wiLCBlcnJvcikpO1xyXG4gICAgfTtcclxuXHJcbiAgICBidWlsZE1hcCgpXHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICAgIGJ1aWxkTWFwKClcclxuICAgIH0pO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9