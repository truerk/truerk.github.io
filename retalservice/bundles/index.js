!function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],r=!0,s=1;s<o.length;s++){var c=o[s];0!==n[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var r={},n={0:0},i=[];function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=r,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([143,1]),o()}({143:function(e,t,o){o(144),e.exports=o(355)},144:function(e,t,o){"use strict";o.r(t);o(145)},145:function(e,t,o){var r=o(146);"string"==typeof r&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};o(147)(r,n);r.locals&&(e.exports=r.locals)},146:function(e,t,o){},355:function(e,t,o){"use strict";o.r(t);var r=o(140),n=o.n(r),i=(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),n.a.polyfill(),o(148),document.querySelectorAll("[am-burger-button]").forEach((function(e){e.addEventListener("click",(function(){e.hasAttribute("active")?e.removeAttribute("active"):e.setAttribute("active","")}))})),o(101));var a=o(70),s=o.n(a);var c,l,u,p,d=o(23),f=o.n(d),m=o(142);document.querySelectorAll("[menu-target]").forEach((function(e){var t=e.getAttribute("menu-target"),o=document.getElementById(t)||!1;o&&o.getAttribute("id")==t&&e.addEventListener("click",(function(e){e.preventDefault,o.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}))})),function(){var e,t=s()(document.querySelectorAll("img[load-src]")),o={root:document.querySelector(".center"),rootMargin:"0px 0px 200px 0px"};try{e=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(e.unobserve(t.target),t.target.src=t.target.dataset.src,t.target.onload=function(){return t.target.classList.add("loaded")})}))}),o),t.forEach((function(t){e.observe(t)}))}catch(e){t.forEach((function(e){e.setAttribute("src",e.getAttribute("data-src")),e.classList.add("loaded")}))}}(),new i.a(document.querySelector(".trust .swiper-container"),{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!0,simulateTouch:!0,autoplay:{delay:3e3},speed:800,navigation:{nextEl:document.querySelector(".trust .swiper-button-next"),prevEl:document.querySelector(".trust .swiper-button-prev")},breakpoints:{1:{slidesPerView:2,spaceBetween:20},690:{spaceBetween:40,slidesPerView:3},960:{spaceBetween:40,slidesPerView:4}}}),new i.a(document.querySelector(".works .swiper-container"),{wrapperClass:"swiper-wrapper",slideClass:"swiper-slide",direction:"horizontal",loop:!0,simulateTouch:!0,autoplay:{delay:3e3},speed:800,navigation:{nextEl:document.querySelector(".works .swiper-button-next"),prevEl:document.querySelector(".works .swiper-button-prev")},breakpoints:{1:{slidesPerView:2,spaceBetween:20},480:{spaceBetween:40,slidesPerView:4}}}),c=document.querySelector('[am-burger-button="menu"]'),l=document.querySelector(".menu__mobile"),u=document.querySelectorAll("[menu-target]"),p=document.querySelector("body"),c.addEventListener("click",(function(){l.classList.contains("active")?(l.classList.remove("active"),p.removeAttribute("style")):(p.style.overflow="hidden",l.classList.add("active"))})),u.forEach((function(e){e.addEventListener("click",(function(){l.classList.remove("active"),c.removeAttribute("active"),p.removeAttribute("style")}))})),function(){document.querySelector("#ymaps");var e=function(){m.a.load("https://api-maps.yandex.ru/2.1/?apikey=74f946ea-5b98-49f2-9582-78854bb86bdf&lang=ru_RU&bust=v10").then((function(e){var t,o=[],r=new e.Map("ymaps",{center:[53.539484,49.265901],zoom:12,margin:10,controls:["fullscreenControl","geolocationControl","zoomControl"]},{suppressMapOpenBlock:!0,searchControlProvider:"yandex#search"});window.innerWidth<768&&r.controls.get("zoomControl").options.set("size","small");t=new e.Clusterer({preset:"islands#redClusterIcons",disableClickZoom:!1,openBalloonOnClick:!1}),window.addEventListener("resize",(function(){r.container.fitToViewport(),r.behaviors.disable("multiTouch")})),r.behaviors.disable("scrollZoom");o.push({coords:[53.539484,49.265901],cityName:"Тольятти",officeStreet:"ул. Дзержинского, д. 98, оф. 90 по будням с 8:00 до 17:00"}),function(o){var n=[];o.forEach((function(t,o){var i;n[o]=new e.GeoObject({geometry:{type:"Point",coordinates:t.coords},properties:{balloonContentHeader:t.cityName,balloonContentBody:"<p>".concat(t.officeStreet,"</p>")}},(i={preset:"islands#yellowDotIcon",iconLayout:"default#image",iconImageHref:"/retalservice/src/assets/img/icon_place.png",iconImageSize:[33,53],iconImageOffset:[-17,-55],draggable:!1},f()(i,"draggable",!1),f()(i,"hideIconOnBalloonOpen",!1),f()(i,"balloonOpenTimeout",300),f()(i,"balloonPane","outerBalloon"),f()(i,"zIndex",-1),i)),n[o].events.add("click",(function(e){n[o].geometry.getCoordinates(),n[o].options.get("projection").toGlobalPixels(r.getBounds()[1],r.getZoom()),n[o].options.get("projection").toGlobalPixels(n[o].geometry.getBounds()[1],r.getZoom());var t,i=n[o].options.get("projection").toGlobalPixels(n[o].geometry.getBounds()[1],r.getZoom());t=window.matchMedia("(max-width: 959px)").matches?[i[0],i[1]]:[i[0]+300,i[1]];var a=r.options.get("projection").fromGlobalPixels(t,r.getZoom());r.setCenter(a,r.getZoom(),{duration:300})}))})),t.add(n),r.geoObjects.add(t)}(o)})).catch((function(e){return console.log("Failed to load Yandex Maps",e)}))};e(),window.addEventListener("resize",(function(){e()}))}()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvaW5kZXguc2Nzcz80OTBiIiwid2VicGFjazovLy8uL3NyYy9qcy9tZXRob2RzL2llMTEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvYnVyZ2VyQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tZXRob2RzL3Ntb290aF9zY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NlY3Rpb24vaGVhZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tZXRob2RzL2xhenlfbG9hZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvY2Fyb3VzZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3NlY3Rpb24vbWFwLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMCIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiY29udGVudCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJFbGVtZW50IiwibWF0Y2hlcyIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiY2xvc2VzdCIsImNzcyIsIm5vZGUiLCJ0aGlzIiwicGFyZW50RWxlbWVudCIsIk5vZGVMaXN0IiwiZm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsInNtb290aHNjcm9sbCIsInBvbHlmaWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhc0F0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIm1vYmlsZU1lbnVfYnV0dG9uIiwibW9iaWxlTWVudSIsIm1lbnVUYXJnZXRzIiwiYm9keSIsIml0ZW0iLCJpdGVtVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJuZWVkZWRTZWN0b3IiLCJnZXRFbGVtZW50QnlJZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJpbmxpbmUiLCJiZWhhdmlvciIsIm9ic2VydmVyIiwiaW1hZ2VzIiwiaW50ZXJhY3RTZXR0aW5ncyIsInJvb3QiLCJxdWVyeVNlbGVjdG9yIiwicm9vdE1hcmdpbiIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiaW1hZ2VFbnRpdGVzIiwiaW1hZ2UiLCJpc0ludGVyc2VjdGluZyIsInVub2JzZXJ2ZSIsInRhcmdldCIsInNyYyIsImRhdGFzZXQiLCJvbmxvYWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJvYnNlcnZlIiwiZXJyb3IiLCJsYXp5TG9hZCIsIlN3aXBlciIsIndyYXBwZXJDbGFzcyIsInNsaWRlQ2xhc3MiLCJkaXJlY3Rpb24iLCJsb29wIiwic2ltdWxhdGVUb3VjaCIsImF1dG9wbGF5IiwiZGVsYXkiLCJzcGVlZCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJicmVha3BvaW50cyIsIjEiLCJzbGlkZXNQZXJWaWV3Iiwic3BhY2VCZXR3ZWVuIiwiNjkwIiwiOTYwIiwiNDgwIiwiY29udGFpbnMiLCJyZW1vdmUiLCJzdHlsZSIsIm92ZXJmbG93IiwiYnVpbGRNYXAiLCJ5bWFwcyIsImxvYWQiLCJ0aGVuIiwibWFwcyIsIm15Q2x1c3RlcmVyIiwicG9pbnRzIiwibWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsIm1hcmdpbiIsImNvbnRyb2xzIiwic3VwcHJlc3NNYXBPcGVuQmxvY2siLCJzZWFyY2hDb250cm9sUHJvdmlkZXIiLCJpbm5lcldpZHRoIiwic2V0IiwiQ2x1c3RlcmVyIiwicHJlc2V0IiwiZGlzYWJsZUNsaWNrWm9vbSIsIm9wZW5CYWxsb29uT25DbGljayIsImNvbnRhaW5lciIsImZpdFRvVmlld3BvcnQiLCJiZWhhdmlvcnMiLCJkaXNhYmxlIiwiY29vcmRzIiwiY2l0eU5hbWUiLCJvZmZpY2VTdHJlZXQiLCJteUdlb09iamVjdHMiLCJwb2ludCIsIkdlb09iamVjdCIsImdlb21ldHJ5IiwidHlwZSIsImNvb3JkaW5hdGVzIiwicHJvcGVydGllcyIsImJhbGxvb25Db250ZW50SGVhZGVyIiwiYmFsbG9vbkNvbnRlbnRCb2R5IiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZHJhZ2dhYmxlIiwiZXZlbnRzIiwiZ2V0Q29vcmRpbmF0ZXMiLCJ0b0dsb2JhbFBpeGVscyIsImdldEJvdW5kcyIsImdldFpvb20iLCJwaXhlbENlbnRlciIsIlhZZ2VvT2JqZWN0cyIsIm1hdGNoTWVkaWEiLCJnZW9DZW50ZXIiLCJmcm9tR2xvYmFsUGl4ZWxzIiwic2V0Q2VudGVyIiwiZHVyYXRpb24iLCJnZW9PYmplY3RzIiwic2V0R2VvT2JqZWN0IiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiaW5pdE1hcCJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUixFQUFhSCxLQUNwRGMsRUFBUWQsR0FBWUcsRUFBWUgsSUFLbEMsSUFGR2UsR0FBcUJBLEVBQW9CaEIsR0FFdENPLEVBQVNDLFFBQ2RELEVBQVNVLE9BQVRWLEdBT0QsT0FIQVcsRUFBZ0JKLEtBQUtLLE1BQU1ELEVBQWlCYixHQUFrQixJQUd2RGUsSUFFUixTQUFTQSxJQUVSLElBREEsSUFBSUMsRUFDSWYsRUFBSSxFQUFHQSxFQUFJWSxFQUFnQlYsT0FBUUYsSUFBSyxDQUcvQyxJQUZBLElBQUlnQixFQUFpQkosRUFBZ0JaLEdBQ2pDaUIsR0FBWSxFQUNSQyxFQUFJLEVBQUdBLEVBQUlGLEVBQWVkLE9BQVFnQixJQUFLLENBQzlDLElBQUlDLEVBQVFILEVBQWVFLEdBQ0csSUFBM0JYLEVBQWdCWSxLQUFjRixHQUFZLEdBRTNDQSxJQUNGTCxFQUFnQlEsT0FBT3BCLElBQUssR0FDNUJlLEVBQVNNLEVBQW9CQSxFQUFvQkMsRUFBSU4sRUFBZSxLQUl0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QyxFQUFJNkMsVUFBVUYsRUFBVzNDLEVBQUl1QyxVQUFXLENBQ3BDTyxTQUFVLFlBS3RCaEQsRUFBWWhDLElBQUl1RCxHQUNoQnJCLEVBQUkrQyxXQUFXakYsSUFBSWdDLEdBS3ZCa0QsQ0FBYWpELE1BRWhCa0QsT0FBTSxTQUFBakYsR0FBSyxPQUFJa0YsUUFBUUMsSUFBSSw2QkFBOEJuRixPQUdsRXlCLElBQ0F4RixPQUFPMEIsaUJBQWlCLFVBQVUsV0FDOUI4RCxPRnBHUjJEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFsxNDMsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgJy4vaW5kZXguc2NzcyciLCJ2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS00LTIhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS00LTMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTQtNCEuL2luZGV4LnNjc3NcIik7XG5cbmlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xufVxuXG52YXIgb3B0aW9ucyA9IHt9XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmIChjb250ZW50LmxvY2Fscykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xufVxuIiwiaW1wb3J0IHNtb290aHNjcm9sbCBmcm9tICdzbW9vdGhzY3JvbGwtcG9seWZpbGwnO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1hdGNoZXNQb2x5ZmlsbCA9IChmdW5jdGlvbigpIHtcclxuICAgIC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQv9C+0LTQtNC10YDQttC60YNcclxuICAgIGlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xyXG5cclxuICAgICAgICAvLyDQvtC/0YDQtdC00LXQu9GP0LXQvCDRgdCy0L7QudGB0YLQstC+XHJcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yO1xyXG5cclxuICAgIH1cclxufSkoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjbG9zZXN0UG9seWZpbGwgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAvLyDQv9GA0L7QstC10YDRj9C10Lwg0L/QvtC00LTQtdGA0LbQutGDXHJcbiAgICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QpIHtcclxuXHJcbiAgICAgICAgLy8g0YDQtdCw0LvQuNC30YPQtdC8XHJcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKGNzcykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0Y2hlcyhjc3MpKSByZXR1cm4gbm9kZTtcclxuICAgICAgICAgICAgICAgIGVsc2Ugbm9kZSA9IG5vZGUucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcmVhY2hQb2x5ZmlsbCA9IChmdW5jdGlvbigpIHtcclxuICAgIC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQv9C+0LTQtNC10YDQttC60YNcclxuICAgIGlmICh3aW5kb3cuTm9kZUxpc3QgJiYgIU5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoKSB7XHJcbiAgICAgICAgTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICAgICAgdGhpc0FyZyA9IHRoaXNBcmcgfHwgd2luZG93O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpc1tpXSwgaSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNjcm9sbFBvbHlmaWxsID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgc21vb3Roc2Nyb2xsLnBvbHlmaWxsKCk7XHJcbn0pKCk7IiwiZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIGJ1cmdlckJ1dHRvbigpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1thbS1idXJnZXItYnV0dG9uXScpLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChidXR0b24uaGFzQXR0cmlidXRlKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhY3RpdmUnLCAnJylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSkoKTsiLCJleHBvcnQgY29uc3Qgc21vb3RoX3Njcm9sbCA9ICgpID0+IHtcclxuICAgIGxldCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbWVudS10YXJnZXRdJyk7XHJcblxyXG4gICAgbWVudUl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgbGV0IGl0ZW1WYWx1ZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdtZW51LXRhcmdldCcpO1xyXG4gICAgICAgIGNvbnN0IG5lZWRlZFNlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW1WYWx1ZSkgfHwgZmFsc2U7XHJcbiAgICAgICAgaWYgKG5lZWRlZFNlY3Rvcikge1xyXG4gICAgICAgICAgICBjb25zdCBuZWVkZWRJZCA9IG5lZWRlZFNlY3Rvci5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICAgICAgICAgIGlmIChuZWVkZWRJZCA9PSBpdGVtVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZFNlY3Rvci5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiBcInN0YXJ0XCIsIGlubGluZTogXCJuZWFyZXN0XCIsIGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0SGVhZGVyKCkge1xyXG4gICAgY29uc3QgbW9iaWxlTWVudV9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbYW0tYnVyZ2VyLWJ1dHRvbj1cIm1lbnVcIl0nKVxyXG4gICAgY29uc3QgbW9iaWxlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19tb2JpbGUnKVxyXG4gICAgY29uc3QgbWVudVRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbWVudS10YXJnZXRdJylcclxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHJcbiAgICBmdW5jdGlvbiBtb2JpbGVNZW51SGFuZGxlcigpIHtcclxuICAgICAgICBtb2JpbGVNZW51X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1vYmlsZU1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICAgICAgbW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xyXG4gICAgICAgICAgICAgICAgbW9iaWxlTWVudS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBtZW51VGFyZ2V0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgbW9iaWxlTWVudV9idXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG1vYmlsZU1lbnVIYW5kbGVyKClcclxufSIsImV4cG9ydCBjb25zdCBsYXp5TG9hZCA9ICgpID0+IHtcclxuICBsZXQgaW1hZ2VzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZ1tsb2FkLXNyY10nKV1cclxuICBsZXQgb2JzZXJ2ZXI7XHJcblxyXG4gIGNvbnN0IGludGVyYWN0U2V0dGluZ3MgPSB7XHJcbiAgICByb290OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2VudGVyJyksXHJcbiAgICByb290TWFyZ2luOiAnMHB4IDBweCAyMDBweCAwcHgnXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkludGVyc2VjdGlvbihpbWFnZUVudGl0ZXMpIHtcclxuICAgIGltYWdlRW50aXRlcy5mb3JFYWNoKGltYWdlID0+IHtcclxuICAgICAgaWYgKGltYWdlLmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGltYWdlLnRhcmdldClcclxuICAgICAgICBpbWFnZS50YXJnZXQuc3JjID0gaW1hZ2UudGFyZ2V0LmRhdGFzZXQuc3JjXHJcbiAgICAgICAgaW1hZ2UudGFyZ2V0Lm9ubG9hZCA9ICgpID0+IGltYWdlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdsb2FkZWQnKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9uSW50ZXJzZWN0aW9uLCBpbnRlcmFjdFNldHRpbmdzKVxyXG4gICAgaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4geyBvYnNlcnZlci5vYnNlcnZlKGltYWdlKSB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBpbWFnZXMuZm9yRWFjaChpbWFnZSA9PiB7XHJcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1hZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpKVxyXG4gICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdsb2FkZWQnKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7bWF0Y2hlc1BvbHlmaWxsLCBjbG9zZXN0UG9seWZpbGwsIGZvcmVhY2hQb2x5ZmlsbCwgc2Nyb2xsUG9seWZpbGx9IGZyb20gJy4vbWV0aG9kcy9pZTExJ1xyXG5pbXBvcnQgJ2JhYmVsLXBvbHlmaWxsJztcclxuXHJcbmltcG9ydCBidXJnZXJCdXR0b24gZnJvbSAnLi9jb21wb25lbnRzL2J1cmdlckJ1dHRvbidcclxuaW1wb3J0IGNhcm91c2VsIGZyb20gJy4vY29tcG9uZW50cy9jYXJvdXNlbCdcclxuaW1wb3J0IHtzbW9vdGhfc2Nyb2xsfSBmcm9tICcuL21ldGhvZHMvc21vb3RoX3Njcm9sbCdcclxuaW1wb3J0IHtsYXp5TG9hZH0gZnJvbSAnLi9tZXRob2RzL2xhenlfbG9hZCdcclxuXHJcbmltcG9ydCBpbml0SGVhZGVyIGZyb20gJy4vc2VjdGlvbi9oZWFkZXInXHJcbmltcG9ydCBpbml0TWFwIGZyb20gJy4vc2VjdGlvbi9tYXAnXHJcblxyXG5zbW9vdGhfc2Nyb2xsKClcclxubGF6eUxvYWQoKVxyXG5jYXJvdXNlbCgpXHJcblxyXG5pbml0SGVhZGVyKClcclxuaW5pdE1hcCgpXHJcbiIsImltcG9ydCBTd2lwZXIgZnJvbSAnc3dpcGVyJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2Fyb3VzZWwoKSB7XHJcbiAgICBjb25zdCBjYXJvdXNlbFRydXN0ID0gbmV3IFN3aXBlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJ1c3QgLnN3aXBlci1jb250YWluZXInKSwge1xyXG4gICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICB3cmFwcGVyQ2xhc3M6ICdzd2lwZXItd3JhcHBlcicsXHJcbiAgICAgICAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXHJcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgICAgICAgIGRlbGF5OiAzMDAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3BlZWQ6IDgwMCxcclxuICAgICAgICAvLyBOYXZpZ2F0aW9uIGFycm93c1xyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJ1c3QgLnN3aXBlci1idXR0b24tbmV4dCcpLFxyXG4gICAgICAgICAgICBwcmV2RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cnVzdCAuc3dpcGVyLWJ1dHRvbi1wcmV2JyksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAxOiB7XHJcbiAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDIwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA2OTA6IHtcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA5NjA6IHtcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgY2Fyb3VzZWxXb3Jrcz0gbmV3IFN3aXBlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud29ya3MgLnN3aXBlci1jb250YWluZXInKSwge1xyXG4gICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICB3cmFwcGVyQ2xhc3M6ICdzd2lwZXItd3JhcHBlcicsXHJcbiAgICAgICAgc2xpZGVDbGFzczogJ3N3aXBlci1zbGlkZScsXHJcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgICAgICAgIGRlbGF5OiAzMDAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3BlZWQ6IDgwMCxcclxuICAgICAgICAvLyBOYXZpZ2F0aW9uIGFycm93c1xyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud29ya3MgLnN3aXBlci1idXR0b24tbmV4dCcpLFxyXG4gICAgICAgICAgICBwcmV2RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53b3JrcyAuc3dpcGVyLWJ1dHRvbi1wcmV2JyksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAxOiB7XHJcbiAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDIwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA0ODA6IHtcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgeW1hcHMgZnJvbSBcInltYXBzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0TWFwKCkge1xyXG4gICAgY29uc3QgeW1hcHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjeW1hcHMnKVxyXG5cclxuICAgIGNvbnN0IGJ1aWxkTWFwID0gKCkgPT4ge1xyXG4gICAgICAgIC8v0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0Y/QvdC00LXQutGBLtC60LDRgNGCXHJcbiAgICAgICAgeW1hcHNcclxuICAgICAgICAgICAgLmxvYWQoXCJodHRwczovL2FwaS1tYXBzLnlhbmRleC5ydS8yLjEvP2FwaWtleT03NGY5NDZlYS01Yjk4LTQ5ZjItOTU4Mi03ODg1NGJiODZiZGYmbGFuZz1ydV9SVSZidXN0PXYxMFwiKVxyXG4gICAgICAgICAgICAudGhlbihtYXBzID0+IHtcclxuICAgICAgICAgICAgICAgIC8v0J3QsNGB0YLRgNC+0LnQutC4INC40L3RgtC10YDRhNC10LnRgdCwXHJcbiAgICAgICAgICAgICAgICBsZXQgbXlHZW9PYmplY3RzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbXlDbHVzdGVyZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy/QodC+0LfQtNCw0LXQvCDQutCw0YDRgtGDXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXAgPSBuZXcgbWFwcy5NYXAoXCJ5bWFwc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBbNTMuNTM5NDg0LCA0OS4yNjU5MDFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHpvb206IDEyLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IFsnZnVsbHNjcmVlbkNvbnRyb2wnLCAnZ2VvbG9jYXRpb25Db250cm9sJywgJ3pvb21Db250cm9sJ11cclxuICAgICAgICAgICAgICAgIH0sIHtzdXBwcmVzc01hcE9wZW5CbG9jazogdHJ1ZSwgc2VhcmNoQ29udHJvbFByb3ZpZGVyOiAneWFuZGV4I3NlYXJjaCd9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB6b29tVmFsdWUgPSBtYXAuY29udHJvbHMuZ2V0KCd6b29tQ29udHJvbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHpvb21WYWx1ZS5vcHRpb25zLnNldCgnc2l6ZScsICdzbWFsbCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy/QodC+0LfQtNCw0LXQvCDQutC70LDRgdGC0LXRgFxyXG4gICAgICAgICAgICAgICAgbXlDbHVzdGVyZXIgPSBuZXcgbWFwcy5DbHVzdGVyZXIoXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXQ6ICdpc2xhbmRzI3JlZENsdXN0ZXJJY29ucycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDbGlja1pvb206IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuQmFsbG9vbk9uQ2xpY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/QndCw0YHRgtGA0L7QudC60Lgg0L/QvtCy0LXQtNC10L3QuNGPINC60LDRgNGC0YtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuY29udGFpbmVyLmZpdFRvVmlld3BvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuYmVoYXZpb3JzLmRpc2FibGUoXCJtdWx0aVRvdWNoXCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtYXAuYmVoYXZpb3JzLmRpc2FibGUoJ3Njcm9sbFpvb20nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqINCU0L7QsdCw0LLQu9GP0LXQvCDQvNC10YLQutC4INC90LAg0LrQsNGA0YLRg1xyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRHZW9PYmplY3QocG9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG15R2VvT2JqZWN0cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMuZm9yRWFjaCgocG9pbnQsIGkpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBteUdlb09iamVjdHNbaV0gPSBuZXcgbWFwcy5HZW9PYmplY3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHBvaW50LmNvb3JkcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnRIZWFkZXI6IHBvaW50LmNpdHlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbGxvb25Db250ZW50Qm9keTogYDxwPiR7cG9pbnQub2ZmaWNlU3RyZWV0fTwvcD5gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXQ6IFwiaXNsYW5kcyN5ZWxsb3dEb3RJY29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkxheW91dDogXCJkZWZhdWx0I2ltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogXCIvc3JjL2Fzc2V0cy9pbWcvaWNvbl9wbGFjZS5wbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbMzMsIDUzXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMTcsIC01NV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVJY29uT25CYWxsb29uT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsbG9vbk9wZW5UaW1lb3V0OiAzMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsbG9vblBhbmU6ICdvdXRlckJhbGxvb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYmFsbG9vblBhbmVsTWF4TWFwQXJlYTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/QntCx0YDQsNCx0LDRgtGL0LLQsNC10Lwg0L3QsNC20LDRgtC40LUg0L3QsCDQvNC10YLQutGDLCDRgdC60YDQvtC70Lsg0Log0LzQtdGC0LrQtVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBteUdlb09iamVjdHNbaV0uZXZlbnRzLmFkZCgnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgR2VvT2JqZWN0Q29vcmRzID0gbXlHZW9PYmplY3RzW2ldLmdlb21ldHJ5LmdldENvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXBfbGVmdCA9IG15R2VvT2JqZWN0c1tpXS5vcHRpb25zLmdldCgncHJvamVjdGlvbicpLnRvR2xvYmFsUGl4ZWxzKG1hcC5nZXRCb3VuZHMoKVsxXSwgbWFwLmdldFpvb20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBHZW9PYmplY3RfbGVmdCA9IG15R2VvT2JqZWN0c1tpXS5vcHRpb25zLmdldCgncHJvamVjdGlvbicpLnRvR2xvYmFsUGl4ZWxzKG15R2VvT2JqZWN0c1tpXS5nZW9tZXRyeS5nZXRCb3VuZHMoKVsxXSwgbWFwLmdldFpvb20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBYWWdlb09iamVjdHMgPSBteUdlb09iamVjdHNbaV0ub3B0aW9ucy5nZXQoJ3Byb2plY3Rpb24nKS50b0dsb2JhbFBpeGVscyhteUdlb09iamVjdHNbaV0uZ2VvbWV0cnkuZ2V0Qm91bmRzKClbMV0sIG1hcC5nZXRab29tKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBpeGVsQ2VudGVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA5NTlweClcIikubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsQ2VudGVyID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYWWdlb09iamVjdHNbMF0gKyAzMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhZZ2VvT2JqZWN0c1sxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsQ2VudGVyID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYWWdlb09iamVjdHNbMF0gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYWWdlb09iamVjdHNbMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb0NlbnRlciA9IG1hcC5vcHRpb25zLmdldCgncHJvamVjdGlvbicpLmZyb21HbG9iYWxQaXhlbHMocGl4ZWxDZW50ZXIsIG1hcC5nZXRab29tKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoZ2VvQ2VudGVyLCBtYXAuZ2V0Wm9vbSgpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBteUNsdXN0ZXJlci5hZGQobXlHZW9PYmplY3RzKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuZ2VvT2JqZWN0cy5hZGQobXlDbHVzdGVyZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IHtjb29yZHM6IFs1My41Mzk0ODQsIDQ5LjI2NTkwMV0sIGNpdHlOYW1lOiAn0KLQvtC70YzRj9GC0YLQuCcsIG9mZmljZVN0cmVldDogJ9GD0LsuINCU0LfQtdGA0LbQuNC90YHQutC+0LPQviwg0LQuIDk4LCDQvtGELiA5MCDQv9C+INCx0YPQtNC90Y/QvCDRgSA4OjAwINC00L4gMTc6MDAnfTtcclxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNvb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICBzZXRHZW9PYmplY3QocG9pbnRzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGxvYWQgWWFuZGV4IE1hcHNcIiwgZXJyb3IpKTtcclxuICAgIH07XHJcblxyXG4gICAgYnVpbGRNYXAoKVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICAgIGJ1aWxkTWFwKClcclxuICAgIH0pO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9